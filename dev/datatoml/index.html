<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Data.toml · DataToolkitBase.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="DataToolkitBase.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">DataToolkitBase.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../usage/">Usage</a></li><li class="is-active"><a class="tocitem" href>Data.toml</a><ul class="internal"><li><a class="tocitem" href="#Overall-structure"><span>Overall structure</span></a></li><li><a class="tocitem" href="#Attributes-of-the-data-collection"><span>Attributes of the data collection</span></a></li><li><a class="tocitem" href="#Structure-of-a-data-set"><span>Structure of a data set</span></a></li><li><a class="tocitem" href="#Structure-of-a-data-transformer"><span>Structure of a data transformer</span></a></li></ul></li><li><a class="tocitem" href="../repl/">REPL</a></li><li><span class="tocitem">Extensions</span><ul><li><a class="tocitem" href="../newtransformer/">Transformer backends</a></li><li><a class="tocitem" href="../packages/">Packages</a></li><li><a class="tocitem" href="../advising/">Data Advice</a></li></ul></li><li><a class="tocitem" href="../libinternal/">Internals</a></li><li><a class="tocitem" href="../errors/">Errors</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Data.toml</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Data.toml</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/tecosaur/DataToolkitBase.jl/blob/main/docs/src/datatoml.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Data.toml"><a class="docs-heading-anchor" href="#Data.toml">Data.toml</a><a id="Data.toml-1"></a><a class="docs-heading-anchor-permalink" href="#Data.toml" title="Permalink"></a></h1><p>A collection of data sets may be encapsulated in a <code>Data.toml</code> file, the structure of which is described here.</p><h2 id="Overall-structure"><a class="docs-heading-anchor" href="#Overall-structure">Overall structure</a><a id="Overall-structure-1"></a><a class="docs-heading-anchor-permalink" href="#Overall-structure" title="Permalink"></a></h2><pre><code class="language-toml hljs">data_config_version=0

name=&quot;data collection name&quot;
uuid=&quot;a UUIDv4&quot;
plugins=[&quot;plugin1&quot;, &quot;plugin2&quot;, ...]

[config]
# [Properties of the data collection itself]

[[mydataset]]
uuid=&quot;a UUIDv4&quot;
# other properties...

[[mydataset.TRANSFORMER]]
driver=&quot;transformer driver&quot;
type=[&quot;a QualifiedType&quot;, ...]
priority=1 # (optional)
# other properties...

[[mydataset]]
# There may be multiple data sets by the same name,
# but they must be uniquely identifyable by their properties

[[exampledata]]
# Another data set</code></pre><h2 id="Attributes-of-the-data-collection"><a class="docs-heading-anchor" href="#Attributes-of-the-data-collection">Attributes of the data collection</a><a id="Attributes-of-the-data-collection-1"></a><a class="docs-heading-anchor-permalink" href="#Attributes-of-the-data-collection" title="Permalink"></a></h2><p>There are four top-level non-<a href="https://toml.io/en/v1.0.0#table">table</a> properties currently recognised.</p><ul><li><code>data_config_version</code> :: The (integer) version of the format. Currently <code>0</code> as this project is still in the alpha phase of development, moving towards beta.</li><li><code>name</code> :: an identifying string. Cannot contain <code>:</code>, and characters outside of <code>[A-Za-z0-9_]</code> are recommended against.</li><li>uuid :: a UUIDv4 used to uniquely refer to the data collection, should it be renamed etc.</li><li>plugins :: a list of plugins which should be used when working with this data collection</li></ul><p>In addition to these four, a special table of the name <code>config</code> is recognised. This holds custom attributes of the data collection, e.g.</p><pre><code class="language-toml hljs">[config]
mykey=&quot;value&quot;

[config.defaults]
description=&quot;Ooops, somebody forgot to describe this.&quot;

[config.defaults.storage.filesystem]
priority=2</code></pre><p>Note that as a consequence of this special table, no data set may be named &quot;config&quot;.</p><p>DataToolkitBase reserves exactly one config attribute: <code>locked</code>. This is used to indicate that the <code>Data.toml</code> file should not be modified, and to override it the attribute must be changed within the <code>Data.toml</code> file. By setting <code>config.locked = true</code>, you protecct yourself from accidental modifications to the data file.</p><p>This functionality is provided here rather than in DataToolkitsCommon etc. because it supported via the implementation of <code>Base.iswritable(::DataCollection)</code>, and so downstream packages would only be able to support this by overriding this method.</p><h2 id="Structure-of-a-data-set"><a class="docs-heading-anchor" href="#Structure-of-a-data-set">Structure of a data set</a><a id="Structure-of-a-data-set-1"></a><a class="docs-heading-anchor-permalink" href="#Structure-of-a-data-set" title="Permalink"></a></h2><pre><code class="language-toml hljs">[[mydataset]]
uuid=&quot;a UUIDv4&quot;
# other properties...

[[mydataset.TRANSFORMER]]
driver=&quot;transformer driver&quot;
type=[&quot;a QualifiedType&quot;, ...] # probably optional
type=&quot;a QualifiedType&quot; # single-value alternative form
priority=1 # (optional)
# other properties...</code></pre><p>A data set is a top-level instance of an <a href="https://toml.io/en/v1.0.0#array-of-tables">array of tables</a>, with any name other than <code>data</code>. Data set names need not be unique, but should be able to be uniquely identified by the combination of their name and parameters.</p><p>Apart from data transformers, there is one recognised data property: <code>uuid</code>, a UUIDv4 string. Any number of additional properties may be given (so long as they do not conflict with the transformer names), they may have special behaviour based on plugins or extensions loaded, but will not be treated specially by DataToolkitBase.</p><p>A data set can have any number of data transformers, but at least two are needed for a functional data set. Data transformers are instances of an array of tables (like data sets), but directly under the data set table.</p><h2 id="Structure-of-a-data-transformer"><a class="docs-heading-anchor" href="#Structure-of-a-data-transformer">Structure of a data transformer</a><a id="Structure-of-a-data-transformer-1"></a><a class="docs-heading-anchor-permalink" href="#Structure-of-a-data-transformer" title="Permalink"></a></h2><p>There are three data transformers types, with the following names:</p><ul><li><code>storage</code></li><li><code>loader</code></li><li><code>writer</code></li></ul><p>All transformers recognise three properties:</p><ul><li><code>driver</code>, the transformer driver name, as a string</li><li><code>type</code>, a single <code>QualifiedType</code> string, or an array of them</li><li><code>priority</code>, an integer which sets the order in which multiple transformers should be considered</li></ul><p>The <code>driver</code> property is mandatory. <code>type</code> and <code>priority</code> can be omitted, in which case they will adopt the default values. The default <code>type</code> value is either determined dynamically from the available methods, or set for that particular transformer.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../usage/">« Usage</a><a class="docs-footer-nextpage" href="../repl/">REPL »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Friday 12 May 2023 17:22">Friday 12 May 2023</span>. Using Julia version 1.9.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
